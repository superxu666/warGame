var __reflect=this&&this.__reflect||function(e,t,n){e.__class__=t,n?n.push(t):n=[t],e.__types__=e.__types__?n.concat(e.__types__):n},__extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);n.prototype=t.prototype,e.prototype=new n},__assign=this&&this.__assign||Object.assign||function(e){for(var t,n=1,a=arguments.length;a>n;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},main;!function(e){var t=function(){function e(){}return e.getGrade=function(e){return 500>=e?"1":e>500&&1e3>=e?"2":e>1e3&&3e3>=e?"3":e>3e3&&5e3>=e?"4":e>5e3&&1e4>=e?"5":"6"},e}();e.UtilTool=t,__reflect(t.prototype,"main.UtilTool")}(main||(main={}));var main;!function(e){var t=function(){function e(){}return e.sound="main/sound/",e.atlas="main/img/ui.png",e.skeleton="main/skeleton/",e.img="main/img/",e.d1sheetAlias="main/img/d1sheet.png",e.d2sheetAlias="main/img/d2sheet.png",e.d3sheetAlias="main/img/d3sheet.png",e}();e.Conf=t,__reflect(t.prototype,"main.Conf")}(main||(main={}));var main;!function(e){var t=function(t){function n(){var e=t.call(this)||this;e._timeId=0,e._delay=5e3;var n=e;return n.visible=!1,n.textQueue=[],n.back=SkinManager.createImage(n,0,0,"rms_toast_bg_png",URLConf.mainImg+"d2sheet.png"),n.back.height=n.back.height>>1,n.nickName=SkinManager.createText(n,0,0,"",16777215,18),n.text=SkinManager.createText(n,0,0,"",16777215,18),e}return __extends(n,t),n.getInstance=function(){return n._instance||(n._instance=new n)},n.prototype.countEnd=function(){var e=this;GYLite.TimeManager.unTimeOut(e._timeId,e.countEnd,e),e._timeId=0,e.visible=!1},n.prototype.start=function(){var t=this;if(!t._timeId){t._timeId=GYLite.TimeManager.timeOut(t.countEnd,t,t._delay);var n=t.textQueue.shift();t.nickName.text=n.nickName?n.nickName+" : ":"无 : ",t.nickName.color=e.NickNameColor.colorSets[n.grade],t.text.text=n.msg,t.nickName.x=t.width-(t.nickName.width+t.text.width)>>1,t.text.x=t.nickName.x+t.nickName.width+10}},n.prototype.updateList=function(t){var n=this;n.nickName.text=t.nickName?t.nickName+" : ":"无 : ",n.nickName.color=e.NickNameColor.colorSets[t.grade],n.text.text=t.msg,n.nickName.x=n.width-(n.nickName.width+n.text.width)>>1,n.text.x=n.nickName.x+n.nickName.width+10,n.nickName.y=n.text.y=n.back.height-n.nickName.height>>1,n._timeId&&n.countEnd(),n._timeId=GYLite.TimeManager.timeOut(n.countEnd,n,n._delay),n.visible=!0},n}(GYLite.GYUIComponent);e.TrumpetTopView=t,__reflect(t.prototype,"main.TrumpetTopView")}(main||(main={}));var main;!function(e){var t=function(e){function t(){var t=e.call(this)||this;t.type=1;var n=t;return n.addEventListener(egret.TouchEvent.TOUCH_TAP,n.handleClick,n),t}return __extends(t,e),t.prototype.config=function(e){var t=this;t._back=SkinManager.createImage(t,0,0,e.background,e.alias),t._selectedImg=SkinManager.createImage(t,0,0,e.select,e.alias),t._sourceImg=SkinManager.createImage(t,0,0,e.source,e.alias),t._back.width=t._selectedImg.width=t._sourceImg.width+20,t._back.height=t._selectedImg.height=t._sourceImg.height+10,t._sourceImg.x=t._back.width-t._sourceImg.width>>1,t._sourceImg.y=t._back.height-t._sourceImg.height>>1,t._selectedImg.visible=!1,t.invalidLayout()},t.prototype.handleClick=function(){var e=this;if(e.selectionGroup){var t=e.selectionGroup.curSelection;t.selected=!1,e.selected=!0,e.selectionGroup.curSelection=e}else e.selected=!e.selected},t.prototype.invalidLayout=function(){var e=this;if(e.selectionGroup){var t=e.selectionGroup.curSelection;t.selected=!0}},Object.defineProperty(t.prototype,"selected",{get:function(){var e=this;return e._selectedImg.visible},set:function(e){var t=this;t._selectedImg.visible=e},enumerable:!0,configurable:!0}),t}(GYLite.GYUIComponent);e.BetButton=t,__reflect(t.prototype,"main.BetButton")}(main||(main={}));var main;!function(e){var t=function(e){function t(){var t=e.call(this)||this,n=t;return n.numImg_1=SkinManager.createImage(n,0,0,"0",URLConf.gameSke+"war_status_font.png"),n.numImg_2=SkinManager.createImage(n,0,0,"0",URLConf.gameSke+"war_status_font.png"),n.numImg_2.x=n.numImg_1.x+n.numImg_1.width,t}return __extends(t,e),t.prototype.setData=function(e){var t=this,n=e.toString();if(e>=10){var a=n.charAt(0),i=n.charAt(1);t.numImg_1.source=Main.instance.getRes(a,URLConf.gameSke+"war_status_font.png"),t.numImg_2.source=Main.instance.getRes(i,URLConf.gameSke+"war_status_font.png")}else{var a=n.charAt(0);t.numImg_1.source=Main.instance.getRes("0",URLConf.gameSke+"war_status_font.png"),t.numImg_2.source=Main.instance.getRes(a,URLConf.gameSke+"war_status_font.png")}},t}(GYLite.GYUIComponent);e.CountDown=t,__reflect(t.prototype,"main.CountDown")}(main||(main={}));var main;!function(e){var t=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.drawSkin=function(t){e.prototype.drawSkin.call(this,t);var n=this;t>=4?n.back.alpha=1:n.back.alpha=0},Object.defineProperty(t.prototype,"hostComponent",{get:function(){var e=this;return egret.superGetter(ImageButtonSkin,e,"hostComponent")},set:function(e){var t=this;t._hostComponent!=e&&(t._hostComponent&&(t.back=null),egret.superSetter(ImageButtonSkin,t,"hostComponent",e),t._hostComponent&&(t.back=new GYLite.GYImage,t.back.alpha=0,t.back.source=Main.instance.getRes("rms_top_list_tab_selected_bg_png",URLConf.mainImg+"d1sheet.png"),e.addElementAt(t.back,0),t._curSkin.x=t._hostComponent.width-t._curSkin.width>>1,t._curSkin.y=t._hostComponent.height-t._curSkin.height>>1))},enumerable:!0,configurable:!0}),t}(GYLite.RadioButtonSkin);e.MyRadioButtonSkin=t,__reflect(t.prototype,"main.MyRadioButtonSkin")}(main||(main={}));var main;!function(e){var t=function(){function e(){}return e}();e.SelectionGroup=t,__reflect(t.prototype,"main.SelectionGroup")}(main||(main={}));var main;!function(e){var t=function(e){function t(){var t=e.call(this)||this;t.type=1;var n=t;n.back=SkinManager.createImage(n,0,0,"war_top_title_bg_png",URLConf.gameImg+"w1sheet.png"),n.back.anchorOffsetX=n.back.width,n.back.skewY=180,n.touchEnabled=!0;var a=SkinManager.createImage(n,n.back.x+16,n.back.y+8,"war_top_bet_selected_png",URLConf.gameImg+"w1sheet.png");SkinManager.createImage(n,a.x+a.width+36,a.y,"war_top_winner_selected_png",URLConf.gameImg+"w1sheet.png");return n.bindEvent(),t}return __extends(t,e),t.prototype.bindEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.handleClick,e)},t.prototype.handleClick=function(){var e=this;1==e.type?(e.type=2,e.back.anchorOffsetX=0,e.back.skewY=0):(e.type=1,e.back.anchorOffsetX=e.back.width,e.back.skewY=180),e.clickCallback&&e.clickCallback.call(e.clickThisobj,e.type)},t.prototype.bindClick=function(e,t){var n=this;n.clickCallback=e,n.clickThisobj=t},t}(GYLite.GYUIComponent);e.TabButton=t,__reflect(t.prototype,"main.TabButton")}(main||(main={}));var main;!function(e){var t=function(t){function n(){var n=t.call(this)||this,a=n;a.back=SkinManager.createImage(a,0,0,"war_bet_setting_bg_png",URLConf.gameImg+"w2sheet.png"),a._jettonArr=[{select:!0,itemName:"1",num:1,source:"war_bet_setting_selected_count_1_png"},{select:!1,itemName:"10",num:10,source:"war_bet_setting_selected_count_10_png"},{select:!1,itemName:"100",num:100,source:"war_bet_setting_selected_count_100_png"},{select:!1,itemName:"1k",num:1e3,source:"war_bet_setting_selected_count_1k_png"},{select:!1,itemName:"1w",num:1e4,source:"war_bet_setting_selected_count_1w_png"},{select:!1,itemName:"5w",num:5e4,source:"war_bet_setting_selected_count_5w_png"},{select:!1,itemName:"10w",num:1e5,source:"war_bet_setting_selected_count_10w_png"},{select:!1,itemName:"all",num:-1,source:"war_bet_setting_selected_count_all_png"}],a._btns={},a._selectedSets={};for(var i=0;i<a._jettonArr.length;i++){var r=a._jettonArr[i],o=SkinManager.createImage(a,0,0,"war_bet_setting_selected_count__bormal_bg_png",URLConf.gameImg+"w1sheet.png"),s=SkinManager.createImage(a,0,0,"war_bet_setting_selected_count_bg_png",URLConf.gameImg+"w1sheet.png");if(o.width=48,4>i)o.x=106+i*(o.width+2),o.y=30;else{var c=i-4;o.x=106+c*(o.width+2),o.y=30+o.height+2}s.x=o.x,s.y=o.y,s.visible=r.select,r.select&&(a._selected=s);var g=SkinManager.createBtn2(a,0,0,[r.source],URLConf.gameImg+"w1sheet.png");g.x=o.x+(o.width-g.width>>1),g.y=o.y+(o.height-g.height>>1),a.addElement(g),g.itemName=r.itemName,g.betNum=r.num,a._btns[r.itemName]=g,a._selectedSets[r.itemName]=s}var m=new e.SelectionGroup;return a.GBtn=new e.BetButton,a.GBtn.touchEnabled=!0,a.GBtn.type=1,a.GBtn.selectionGroup=m,m.curSelection=a.GBtn,a.GBtn.x=320,a.GBtn.verticalCenter=0,a.GBtn.config({background:"war_bet_setting_selected_count__bormal_bg_png",source:"war_gold_img_png",select:"war_bet_setting_selected_count_bg_png",alias:URLConf.gameImg+"w1sheet.png"}),a.addElement(a.GBtn),a.YBtn=new e.BetButton,a.YBtn.touchEnabled=!0,a.YBtn.type=2,a.YBtn.selectionGroup=m,a.YBtn.x=a.GBtn.x+a.GBtn.width+5,a.YBtn.verticalCenter=0,a.YBtn.config({background:"war_bet_setting_selected_count__bormal_bg_png",source:"war_silver_img_png",select:"war_bet_setting_selected_count_bg_png",alias:URLConf.gameImg+"w1sheet.png"}),a.addElement(a.YBtn),a.keepingBtn=SkinManager.createBtn2(a,0,0,["war_bet_setting_continue_btn_png"],URLConf.gameImg+"w1sheet.png"),a.keepingBtn.right=70,a.keepingBtn.verticalCenter=0,a.bindEvent(),n}return __extends(n,t),n.getInstance=function(){return n._instance||(n._instance=new n)},n.prototype.bindEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.handleClick,e),e.GBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,e.handleBetType,e),e.YBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,e.handleBetType,e),e.keepingBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,e.handleKeepingBet,e)},n.prototype.handleBetType=function(t){var n=this;console.log(1==t.target.type?"金":"银"),n.betType=t.target.type,e.BetModel.getInstance().setData(n.betType,n.betNum)},n.prototype.handleClick=function(t){var n=this;if(t.target.itemName){var a=t.target.itemName;n._selected&&(n._selected.visible=!1),n._selectedSets[a].visible=!0,n._selected=n._selectedSets[a],console.log(t.target.betNum),n.betNum=t.target.betNum,e.BetModel.getInstance().setData(n.betType,n.betNum)}},n.prototype.handleKeepingBet=function(){if(0!=e.BetModel.getInstance().lastSum.length){var t=e.BetModel.getInstance().lastSum;e.BetModel.getInstance().bet(t),e.SideBottomMidView.getInstance().keeping(t)}},n.prototype.resetState=function(){var e=this;e._selected&&(e._selected.visible=!1),e._selectedSets[1].visible=!0,e._selected=e._selectedSets[1],e.betNum=1},n}(GYLite.GYUIComponent);e.BetView=t,__reflect(t.prototype,"main.BetView")}(main||(main={}));var main;!function(e){var t=function(){function t(){this._timeId=0,this.timeType="1"}return t.getInstance=function(){return t._instance||(t._instance=new t)},t.prototype.run=function(){var t=this,n=Date.now();e.GameModel.getInstance().getTime(function(e){var a=e.data+(Date.now()-n),i=new Date(a).getSeconds();t.gameTtime=i,t.gameStart()},t),e.GameModel.getInstance().getLastWinRank(),e.GameModel.getInstance().getHistoryLottery()},t.prototype.gameStart=function(){var e=this,t=e.gameTtime;e.gameTtime<=25&&(t=25-e.gameTtime,e.betTime=t,console.log("下注时间还剩: ",t)),e._timeId=GYLite.TimeManager.timeInterval(e.timeStart,e,1e3)},t.prototype.timeStart=function(){var t=this,n=++t.gameTtime;t.timeOut=!0,n>=0&&26>n?(t.timeOut=!1,t.betTime=25-n,e.GameView.getInstance().slideUp(),e.GameView.getInstance().updateCountDown(t.betTime,1),e.GameModel.getInstance().getBettingTotal(),e.GameModel.getInstance().getBettingRank()):n>=26&&32>n?(33==n&&e.GameModel.getInstance().getResult(),e.GameView.getInstance().slideDown(),e.GameView.getInstance().updateCountDown(31-n,2)):n>=32&&58>n||n>58&&(e.SideBottomMidView.getInstance().clearBet(),GYLite.TimeManager.unTimeInterval(t._timeId,t.timeStart,t),t.run())},t}();e.GameTime=t,__reflect(t.prototype,"main.GameTime")}(main||(main={}));var main;!function(e){var t=function(t){function n(){var n=t.call(this)||this;n.isBet=!1;var a=n;a.back=SkinManager.createImage(a,0,0,"war_tar_bg_png",URLConf.gameImg+"w1sheet.png"),a._gem=new GYMovieClip,a._gem.setDataPath(URLConf.gameSke+"war_movie_clips.json",URLConf.gameSke+"war_movie_clips.png"),a._gem.setMovieName("DiamondFlash"),a._gem.play(-1),a._gem.horizonalCenter=0,a.addElement(a._gem),a._rank4=e.Rank4.getInstance(),a._rank4.width=a.width,a._rank4.height=a.height,a.addElement(a._rank4);var i=SkinManager.createImage(a,0,0,"war_status_bg_png",URLConf.gameImg+"w1sheet.png");return i.horizonalCenter=-3,i.verticalCenter=-84,a._status=SkinManager.createImage(a,0,0,""),a._status.horizonalCenter=-3,a._status.verticalCenter=-84,a._countDown=new e.CountDown,a._countDown.horizonalCenter=-2,a._countDown.verticalCenter=-26,a.addElement(a._countDown),a._resultListView=e.ResultListView.getInstance(),a._resultListView.y=266,a._resultListView.width=a.width,a._resultListView.height=54,a.addElement(a._resultListView),a.bindEvent(),n}return __extends(n,t),n.getInstance=function(){return n._instance||(n._instance=new n)},n.prototype.bindEvent=function(){},n.prototype.slideUp=function(){var e=this;e.isBet||(e.isBet=!0,e._tween=GYLite.GYTween.to(e,[GYLite.TweenData.getInstance("bottom",436,0/0)],500,0,e,null,null,null,!0,!1))},n.prototype.slideDown=function(){var e=this;e.isBet&&(e.isBet=!1,e._tween&&e._tween.run(!e._tween.isReserve))},n.prototype.updateCountDown=function(e,t){var n=this;1==t?n._status.source=Main.instance.getRes("war_status_bet_png",URLConf.gameImg+"w1sheet.png"):2==t&&(n._status.source=Main.instance.getRes("war_status_locked_png",URLConf.gameImg+"w1sheet.png")),n._countDown&&n._countDown.setData(e)},n.prototype.updateResultList=function(e){var t=this;t._resultListView.updateList(e.data)},n}(GYLite.GYUIComponent);e.GameView=t,__reflect(t.prototype,"main.GameView")}(main||(main={}));var main;!function(e){var t=function(e){function t(){var t=e.call(this)||this,i=t;i.itemSets={};for(var r=0;4>r;r++)if(r%2==1){var o=new n;i.addElement(o),o.x=116,2>r?o.y=128:(o.y=188,o.reverseback=!0),i.itemSets[r-1]=o}else{var o=new a;i.addElement(o),o.x=395,2>r?o.y=128:(o.y=188,o.reverseback=!0),i.itemSets[r+1]=o}return t}return __extends(t,e),t.getInstance=function(){return t._instance||(t._instance=new t)},t.prototype.updateRankView=function(e){for(var t=this,n=0,a=e.length;a>n;n++)0==n?t.itemSets[n].setData(e[n],!0):t.itemSets[n].setData(e[n])},t}(GYLite.GYUIComponent);e.Rank4=t,__reflect(t.prototype,"main.Rank4");var n=function(e){function t(){var t=e.call(this)||this,n=t;n.width=175,n.height=58,n.back=SkinManager.createImage(n,0,0,"war_medal_top_list_item_bg_png",URLConf.gameImg+"w1sheet.png"),n.head=SkinManager.createImage(n,0,0,""),n.frame=SkinManager.createImage(n,0,0,"war_medal_top_list_item_head_bg_png",URLConf.gameImg+"w1sheet.png"),n.head.width=n.frame.width,n.head.height=n.frame.height,n.head.verticalCenter=n.frame.verticalCenter=0,n.head.left=n.frame.left=5,n.medal=SkinManager.createImage(n,0,0,"game_cion_silver_medal_small_png",URLConf.mainImg+"d1sheet.png"),n.userNameText=SkinManager.createText(n,n.frame.x+n.frame.width+10,5,"",16777215,14);SkinManager.createImage(n,n.userNameText.x+8,23,"war_medal_top_list_coin_bg_png",URLConf.gameImg+"w3sheet.png"),SkinManager.createImage(n,n.userNameText.x+8,38,"war_medal_top_list_coin_bg_png",URLConf.gameImg+"w3sheet.png"),SkinManager.createImage(n,n.userNameText.x,14,"war_top_gold_png",URLConf.gameImg+"w1sheet.png"),SkinManager.createImage(n,n.userNameText.x,31,"war_top_silver_png",URLConf.gameImg+"w1sheet.png");return n.GText=SkinManager.createText(n,88,25,"0",15715586,12),n.YText=SkinManager.createText(n,88,40,"0",16777215,12),t}return __extends(t,e),Object.defineProperty(t.prototype,"reverseback",{set:function(e){var t=this;e&&(t.back.anchorOffsetY=t.back.height,t.back.skewX=180)},enumerable:!0,configurable:!0}),t.prototype.setData=function(e,t){var n=this;t&&(n.medal.source=Main.instance.getRes("game_cion_gold_medal_small_png",URLConf.mainImg+"d1sheet.png")),n.head.source=Main.instance.getRes(e.avatar,"main/img/head.png"),n.userNameText.text=e.nickName,n.GText.text=e.wingold,n.YText.text=e.winsilver},t}(GYLite.GYUIComponent);e.Rank4ItemL=n,__reflect(n.prototype,"main.Rank4ItemL");var a=function(e){function t(){var t=e.call(this)||this,n=t;n.width=175,n.height=58,n.back=SkinManager.createImage(n,0,0,"war_medal_top_list_item_bg_png",URLConf.gameImg+"w1sheet.png"),n.back.anchorOffsetX=n.back.width,n.back.skewY=180,n.head=SkinManager.createImage(n,0,0,""),n.frame=SkinManager.createImage(n,0,0,"war_medal_top_list_item_head_bg_png",URLConf.gameImg+"w1sheet.png"),n.head.width=n.frame.width,n.head.height=n.frame.height,n.head.verticalCenter=n.frame.verticalCenter=0,n.head.right=n.frame.right=5,n.medal=SkinManager.createImage(n,0,0,"game_cion_silver_medal_small_png",URLConf.mainImg+"d1sheet.png"),n.medal.right=0,n.userNameText=SkinManager.createText(n,0,5,"",16777215,14),n.userNameText.right=n.frame.x+n.frame.width+10;var a=SkinManager.createImage(n,0,23,"war_medal_top_list_coin_bg_png",URLConf.gameImg+"w3sheet.png");a.anchorOffsetX=a.width,a.skewY=180;var i=SkinManager.createImage(n,0,38,"war_medal_top_list_coin_bg_png",URLConf.gameImg+"w3sheet.png");i.anchorOffsetX=i.width,i.skewY=180;var r=SkinManager.createImage(n,0,14,"war_top_gold_png",URLConf.gameImg+"w1sheet.png"),o=SkinManager.createImage(n,0,31,"war_top_silver_png",URLConf.gameImg+"w1sheet.png");return r.right=o.right=n.userNameText.right,n.GText=SkinManager.createText(n,0,25,"0",15715586,12),n.YText=SkinManager.createText(n,0,40,"0",16777215,12),n.GText.right=n.YText.right=88,t}return __extends(t,e),Object.defineProperty(t.prototype,"reverseback",{set:function(e){var t=this;e&&(t.back.anchorOffsetY=t.back.height,t.back.skewX=180)},enumerable:!0,configurable:!0}),t.prototype.setData=function(e){var t=this;t.head.source=Main.instance.getRes(e.avatar,"main/img/head.png"),t.userNameText.text=e.nickName,t.GText.text=e.wingold,t.YText.text=e.winsilver},t}(GYLite.GYUIComponent);e.Rank4ItemR=a,__reflect(a.prototype,"main.Rank4ItemR")}(main||(main={}));var main;!function(e){var t=function(e){function t(){var t=e.call(this)||this,a=t;return a.leftBtn=SkinManager.createBtn(a,118,0,"war_history_btn_png",null,null,URLConf.gameImg+"w2sheet.png"),a.leftBtn.verticalCenter=0,a.leftBtn.name="l",a.list=SkinManager.createListH(a,a.leftBtn.x+a.leftBtn.width+20,0,360,54,n),a.list.scrollerPolicy=2,a.rigthBtn=SkinManager.createBtn(a,a.list.x+a.list.width+20,0,"war_history_btn_png",null,null,URLConf.gameImg+"w2sheet.png"),a.rigthBtn.name="r",a.rigthBtn.anchorOffsetX=a.rigthBtn.width,a.rigthBtn.skewY=180,a.rigthBtn.verticalCenter=0,a.bindEvent(),t}return __extends(t,e),t.getInstance=function(){return t._instance||(t._instance=new t)},t.prototype.bindEvent=function(){var e=this;e.leftBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,e.handleScrollList,e),e.rigthBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,e.handleScrollList,e)},t.prototype.handleScrollList=function(e){var t=this;"l"==e.target.name?t.list.hScroller.scrollToLeft(180):"r"==e.target.name&&t.list.hScroller.scrollToRight(180)},t.prototype.updateList=function(e){var t=this;t.list.dataProvider=e},t}(GYLite.GYUIComponent);e.ResultListView=t,__reflect(t.prototype,"main.ResultListView");var n=function(e){function t(){var t=e.call(this)||this,n=t;return n.imgSets={kq:"war_history_gun_png",hc:"war_history_train_png",ts:"war_history_angle_png",kl:"war_history_all_death_png",dj:"war_history_multiple_png",sz:"war_history_tribal_png",rz:"war_history_union_png",a:"war_history_tribal_orc_png",b:"war_history_tribal_warlock_png",c:"war_history_tribal_minotaur_png",d:"war_history_tribal_chief_png",k:"war_history_balck_dragon_png",h:"war_history_union_king_png",g:"war_history_union_knight_png",f:"war_history_union_master_png",e:"war_history_union_warrior_png"},n.width=45,n.height=54,n.resultImg=SkinManager.createImage(n,0,0,"",URLConf.gameImg+"w2sheet.png"),n.resultImg.horizonalCenter=0,t}return __extends(t,e),t.prototype.setData=function(e){var t=this;return e?(t.visible=!0,void(t.resultImg.source=Main.instance.getRes(t.imgSets[e],URLConf.gameImg+"w2sheet.png"))):void(t.visible=!1)},t}(GYLite.ItemRender);e.ResultItem=n,__reflect(n.prototype,"main.ResultItem")}(main||(main={}));var main;!function(e){var t=function(){function e(){}return e.getInstance=function(){return e._instance||(e._instance=new e)},e.prototype.transpond=function(){var e=this;e.curActiveTarget&&BaseWar.getInstance().trigger(e.curActiveTarget)},e}();e.EventTranspond=t,__reflect(t.prototype,"main.EventTranspond")}(main||(main={}));var main;!function(e){var t=function(){function e(){}return e.colorSets={1:16777215,2:4171177,3:4171177,4:10400859,5:10400859,6:12213083},e}();e.NickNameColor=t,__reflect(t.prototype,"main.NickNameColor")}(main||(main={}));var main;!function(e){var t=function(){function e(){}return e.getInstance=function(){return e._instance||(e._instance=new e)},e}();e.TheFirstGame=t,__reflect(t.prototype,"main.TheFirstGame")}(main||(main={}));var main;!function(e){var t=function(t){function n(){return t.call(this)||this}return __extends(n,t),n.prototype.modulePreStart=function(){e.TheFirstGame.getInstance().isFirstGame=!0},n.prototype.start=function(){t.prototype.start.call(this)},n.prototype.runGame=function(){},n.prototype.resize=function(e,t){},n.prototype.dispose=function(){t.prototype.dispose.call(this)},n.prototype.show=function(n){void 0===n&&(n=null);var a=this;t.prototype.show.call(this,n),a.back=SkinManager.createImage(a,0,0,URLConf.mainImg+"war_bg_2.jpg"),a.back.horizonalCenter=a.back.verticalCenter=0,a.betView=e.BetView.getInstance(),a.betView.horizonalCenter=3,a.betView.bottom=350,a.addElement(a.betView),a.gameView=e.GameView.getInstance(),a.gameView.horizonalCenter=0,a.gameView.bottom=340,a.addElement(a.gameView),a.trumpetTop=e.TrumpetTopView.getInstance(),a.trumpetTop.horizonalCenter=0,a.trumpetTop.y=200,a.addElement(a.trumpetTop),a.sideTopLeft=e.SideTopLeftView.getInstance(),a.sideTopLeft.left=280,a.sideTopLeft.verticalCenter=0,a.addElement(a.sideTopLeft),a.sideBottomMid=e.SideBottomMidView.getInstance(),a.sideBottomMid.bottom=200,a.sideBottomMid.horizonalCenter=0,a.addElement(a.sideBottomMid),a.sideTopRight=e.SideTopRightView.getInstance(),a.sideTopRight.right=280,a.sideTopRight.verticalCenter=0,a.addElement(a.sideTopRight),UserData.getInstance().token&&(e.PersonalModel.getInstance().getMyInfo(function(e){a.sideTopLeft.renderPersonvalView(e),a.sideTopLeft.notifyChatView(e)}),a.sideTopRight.bindLoginOut(a.loginout,a)),document.addEventListener("keydown",a.handleKeyborad.bind(a))},n.prototype.handleKeyborad=function(t){13==t.keyCode&&e.EventTranspond.getInstance().transpond()},n.prototype.hide=function(){t.prototype.hide.call(this),SoundManager.instance.closeBGM(),e.TheFirstGame.getInstance().isFirstGame=!1},n.prototype.handleMessage=function(e){},n.prototype.loginout=function(){e.PersonalModel.getInstance().logout(function(){UIControl.getInstance().closeCurUI(),UIControl.getInstance().openUI("login")})},n}(ModuleBase);e.Module=t,__reflect(t.prototype,"main.Module")}(main||(main={}));var main;!function(e){var t=function(){function t(){this.betType=1,this.betNum=1;var e=this;e.lastSum=[],e.betSets={},e.betNumObj={g:0,y:0}}return t.getInstance=function(){return t._instance||(t._instance=new t)},t.prototype.setData=function(e,t){var n=this;e&&(n.betType=e),t&&(n.betNum=t)},t.prototype.setBetSets=function(e){var t=this,n=[],a={type:t.betType,num:t.betNum};return n.push({role:e,infos:[a]}),t.bet(n),a},t.prototype.setLastRoundSum=function(e){var t=this;e.length>0&&(t.lastSum=e)},t.prototype.setCurrentRoundSum=function(t,n){e.CurrentRoundSumView.getInstance().render({g:t,y:n})},t.prototype.bet=function(t){var n=this;BaseHttp.getInstance().sendMsg("/war/game/bet",t,HTTPConf.M_POST,function(t){e.PersonalView.getInstance().render(t)},n)},t}();e.BetModel=t,__reflect(t.prototype,"main.BetModel")}(main||(main={}));var main;!function(e){var t=function(){function t(){var e=this;e.lastWinRank=[]}return t.getInstance=function(){return t._instance||(t._instance=new t)},t.prototype.getTime=function(e,t){BaseHttp.getInstance().sendMsg("war/game/getTime",{},HTTPConf.M_GET,e,t)},t.prototype.getHistoryLottery=function(t,n){var a=this;BaseHttp.getInstance().sendMsg("war/game/getHistoryLottery",{},HTTPConf.M_GET,function(a){e.GameView.getInstance().updateResultList(a),t&&t.call(n,a)},a)},t.prototype.getLastWinRank=function(t,n){var a=this;BaseHttp.getInstance().sendMsg("war/game/getLastWinRank",{},HTTPConf.M_GET,function(i){a.lastWinRank=i.data,e.Rank4.getInstance().updateRankView(i.data),t&&t.call(n,i)},a)},t.prototype.getBettingRank=function(t,n){var a=this;BaseHttp.getInstance().sendMsg("war/game/getBettingRank",{},HTTPConf.M_GET,function(a){e.BetRankView.getInstance().updateRankList(a.data),t&&t.call(n,a)},a)},t.prototype.getBettingTotal=function(e,t){BaseHttp.getInstance().sendMsg("war/game/getBettingTotal",{},HTTPConf.M_GET,e,t)},t.prototype.getResult=function(e,t){BaseHttp.getInstance().sendMsg("war/game/getResult",{},HTTPConf.M_GET,e,t)},t.prototype.selectWinRank=function(e,t,n){var a=this;BaseHttp.getInstance().sendMsg("war/accountrecord/selectWinRank",e,HTTPConf.M_GET,function(e){t&&t.call(n,e)},a)},t.prototype.getVipRank=function(e,t){var n=this;BaseHttp.getInstance().sendMsg("war/game/getVipRank",{},HTTPConf.M_GET,function(n){e&&e.call(t,n)},n)},t}();e.GameModel=t,__reflect(t.prototype,"main.GameModel")}(main||(main={}));var main;!function(e){var t=function(){function e(){}return e.getInstance=function(){return e._instance||(e._instance=new e)},e.prototype.getRobotNum=function(){HttpMsg.getInstance().sendMsg("/war/game/robotnum",{},HTTPConf.M_GET,function(e){})},e.prototype.getVipRank=function(){HttpMsg.getInstance().sendMsg("/war/game/getVipRank",{},HTTPConf.M_GET,function(e){})},e.prototype.giveGift=function(e,t,n,a){HttpMsg.getInstance().sendMsg("/war/game/giveGift",{userId:e,type:t,num:n,name:a},HTTPConf.M_POST,function(e){})},e.prototype.addNotice=function(e){BaseHttp.getInstance().sendMsg("/war/game/addNotice",{msg:e},HTTPConf.M_POST,function(e){})},e.prototype.selectWinRank=function(e,t){HttpMsg.getInstance().sendMsg("/war/accountrecord/selectWinRank",{type:e,tody:t},HTTPConf.M_GET,function(e){})},e.prototype.getMyRecord=function(){HttpMsg.getInstance().sendMsg("/war/accountrecord/getMyRecord",{},HTTPConf.M_GET,function(e){})},e}();e.MainModel=t,__reflect(t.prototype,"main.MainModel")}(main||(main={}));var main;!function(e){var t=function(){function t(){}return t.getInstance=function(){return t._instance||(t._instance=new t)},t.prototype.setData=function(t){var n=this;for(var a in t)n[a]=t[a];n.grade=e.UtilTool.getGrade(n.exp)},t.prototype.updatePrivacy=function(e){HttpMsg.getInstance().sendMsg("/war/user/updatePrivacy",{privacy:e},HTTPConf.M_POST,function(e){})},t.prototype.getMyInfo=function(e){var t=this;BaseHttp.getInstance().sendMsg("/war/user/getMyInfo",{},HTTPConf.M_GET,function(n){t.setData(n.data),e&&e(n)})},t.prototype.getInfoById=function(e){HttpMsg.getInstance().sendMsg("/war/user/getInfoById",{userId:e},HTTPConf.M_GET,function(e){})},t.prototype.logout=function(e){BaseHttp.getInstance().sendMsg("/logout",{},HTTPConf.M_POST,function(t){UserData.getInstance().token="",sessionStorage.removeItem("token"),e&&e(t)})},t}();e.PersonalModel=t,__reflect(t.prototype,"main.PersonalModel")}(main||(main={}));var main;!function(e){var t=function(t){function a(){var e=t.call(this)||this,a=e;a.height=128,a.items={};for(var i=[{itemName:"i",source:"war_bet_item_tribal_png",multiple:"war_bet_mutiple_2_png"},{itemName:"a",source:"war_bet_item_orc_png",multiple:"war_bet_mutiple_6_png"},{itemName:"b",source:"war_bet_item_warlock_png",multiple:"war_bet_mutiple_8_png"},{itemName:"c",source:"war_bet_item_minotaur_png",multiple:"war_bet_mutiple_8_png"},{itemName:"d",source:"war_bet_item_chief_png",multiple:"war_bet_mutiple_12_png"},{itemName:"k",source:"war_bet_item_dragon_png",multiple:"war_bet_mutiple_24_99_png"},{itemName:"h",source:"war_bet_item_king_png",multiple:"war_bet_mutiple_12_png"},{itemName:"g",source:"war_bet_item_knight_png",multiple:"war_bet_mutiple_8_png"},{itemName:"f",source:"war_bet_item_master_png",multiple:"war_bet_mutiple_8_png"},{itemName:"e",source:"war_bet_item_warrior_png",multiple:"war_bet_mutiple_6_png"},{itemName:"j",source:"war_bet_item_union_png",multiple:"war_bet_mutiple_2_png"}],r=null,o=0,s=i.length;s>o;o++){var c=new n;a.items[i[o].itemName]=c,a.addElement(c),r||(r=c),c.x=o*r.width,c.setData(i[o]),c.bindChangeNum(a.handleChangeBetItemNum,a)}return e}return __extends(a,t),a.getInstance=function(){return a._instance||(a._instance=new a)},a.prototype.handleChangeBetItemNum=function(){var t=this,n=0,a=0;for(var i in t.items){var r=t.items[i],o=Number(r.G.text),s=Number(r.Y.text);n+=o,a+=s}e.BetModel.getInstance().setCurrentRoundSum(n,a)},a.prototype.clearBet=function(){var t=this,n=[];for(var a in t.items){var i=t.items[a],r=Number(i.G.text),o=Number(i.Y.text);if(r||o){var s={};s.role=a,r&&(s.infos||(s.infos=[]),s.infos.push({type:"1",num:r})),o&&(s.infos||(s.infos=[]),s.infos.push({type:"2",num:o})),n.push(s)}i.handleReset()}e.BetModel.getInstance().setLastRoundSum(n),e.BetModel.getInstance().setCurrentRoundSum(0,0)},a.prototype.keeping=function(e){for(var t=this,n=0,a=e.length;a>n;n++)for(var i=e[n],r=i.role,o=i.infos,s=t.items[r],c=0,g=o.length;g>c;c++){var m=o[c];s.add(m.type,m.num),s.slideUp()}},a}(GYLite.GYUIComponent);e.SideBottomMidView=t,__reflect(t.prototype,"main.SideBottomMidView");var n=function(t){function n(){var e=t.call(this)||this,n=e;return n.width=74,n.height=128,n.back=SkinManager.createImage(n,0,0,"war_bet_item_coin_bg_png",URLConf.gameImg+"w1sheet.png"),n.back.horizonalCenter=0,n.G=SkinManager.createText(n,0,84,"0",15715586,12),n.Y=SkinManager.createText(n,0,n.G.y+n.G.height+5,"0",16777215,12),n.G.horizonalCenter=n.Y.horizonalCenter=0,n.subItem=new GYLite.GYUIComponent,n.subItem.x=2,n.subItem.y=60,n.addElement(n.subItem),n.itemImg=new GYLite.GYImage,n.itemImg.x=0,n.itemImg.y=0,n.subItem.addElement(n.itemImg),n.multiple=new GYLite.GYImage,n.multiple.horizonalCenter=0,n.multiple.bottom=10,n.subItem.addElement(n.multiple),n.bindEvent(),e}return __extends(n,t),n.prototype.bindEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.handleClick,e)},n.prototype.handleClick=function(){var t=this;if(!e.GameTime.getInstance().timeOut){t.slideUp();var n=e.BetModel.getInstance().setBetSets(t.itemName);t.add(n.type,n.num)}},n.prototype.handleReset=function(){var e=this;e.subItem.y=60,e.G.text="0",e.Y.text="0"},n.prototype.add=function(e,t){var n=this,a=0;1==e?(a=Number(n.G.text)+t,n.G.text=(Number(n.G.text)+t).toString()):(a=Number(n.Y.text)+t,n.Y.text=(Number(n.Y.text)+t).toString()),n.changeCallback&&n.changeCallback.call(n.changeThisobj)},n.prototype.slideUp=function(){var e=this;e.subItem.y=0},n.prototype.bindChangeNum=function(e,t){var n=this;n.changeCallback=e,n.changeThisobj=t},n.prototype.setData=function(e){var t=this;t.itemName=e.itemName,t.itemImg.source=Main.instance.getRes(e.source,URLConf.gameImg+"w1sheet.png"),t.multiple.source=Main.instance.getRes(e.multiple,URLConf.gameImg+"w1sheet.png");for(var n=t.numElement;--n>-1;){var a=t.getElementAt(n);a.touchEnabled=!0}},n}(GYLite.GYUIComponent);e.BottomMidViewItem=n,__reflect(n.prototype,"main.BottomMidViewItem")}(main||(main={}));var main;!function(e){var t=function(t){function a(){var e=t.call(this)||this,a=e;a.trumpet=SkinManager.createBtn(a,0,0,"rms_war_speaker_png",null,null,URLConf.gameImg+"w3sheet.png"),a.vb=new VerticalBox(n),a.vb.x=0,a.vb.y=a.trumpet.y+a.trumpet.height+5,a.vb.width=210,a.vb.height=350,a.vb.scroller.verticalPolicy=0,a.vb.scrollerViewPort.paddingTop=a.vb.scrollerViewPort.paddingBottom=5,a.addElement(a.vb);var i=SkinManager.createImage(a,-12,a.vb.y+a.vb.height+10,"war_chat_line_png",URLConf.gameImg+"w3sheet.png");return a.input=TemplateTool.createTextInput(a,0,i.y+i.height+2,160,30),a.send=SkinManager.createBtn(a,a.input.x+a.input.width+14,a.input.y,"war_send_msg_img_png",null,null,URLConf.gameImg+"w1sheet.png"),a.bindEvent(),e
}return __extends(a,t),a.getInstance=function(){return a._instance||(a._instance=new a)},a.prototype.bindEvent=function(){var e=this;e.send.addEventListener(egret.TouchEvent.TOUCH_TAP,e.handleSend,e),e.trumpet.addEventListener(egret.TouchEvent.TOUCH_TAP,e.handleTrumpet,e),e.input.addEventListener(egret.Event.FOCUS_IN,e.focusIn,e),e.input.addEventListener(egret.Event.FOCUS_OUT,e.focusOut,e),BaseWar.getInstance().bind("chatInput",e.handleSend,e)},a.prototype.handleSend=function(t){var n=this;return"1"==e.PersonalModel.getInstance().black?void console.log("你被关进小黑屋, 联系管理员"):void((n.input.text||t)&&(n.ws.send(n.input.text||t),n.input.text="",n.vb.scroller.scrollPosY=n.vb.scroller.scrollBarV.maximum))},a.prototype.handleTrumpet=function(){e.TrumpetView.getInstance().show()},a.prototype.focusIn=function(){e.EventTranspond.getInstance().curActiveTarget="chatInput"},a.prototype.focusOut=function(){e.EventTranspond.getInstance().curActiveTarget=null},a.prototype.createWebsocket=function(t){var n=this;n.ws=MainSocket.getInstance().connect(UserData.getInstance().host+":8080/chat/"+t.data.userId+"/"+e.PersonalModel.getInstance().grade+"/"+t.data.nickName),n.ws.onmessage(n.onmessage,n)},a.prototype.onmessage=function(t){var n=this;if(t&&"string"==typeof t.data){var a=JSON.parse(t.data);if("1"!=a.type)return void e.TrumpetTopView.getInstance().updateList(a);n.vb.dataProvider?(n.vb.dataProvider.push(a),n.vb.validData()):n.vb.dataProvider=[a]}},a}(GYLite.GYUIComponent);e.ChatView=t,__reflect(t.prototype,"main.ChatView");var n=function(t){function n(){var e=t.call(this)||this,n=e;return n.width=210,n.mes=SkinManager.createText(n,2,0,"",16777215,14),n.mes.width=n.width-4,e}return __extends(n,t),n.prototype.setData=function(t){var n=this;n.mes.htmlText="<font color=0x00A8F3>"+t.nickName+"</font> : <font color="+(e.NickNameColor.colorSets[t.grade]||e.NickNameColor.colorSets[6])+">"+t.msg+"</font>",n.updateState(t)},n.prototype.updateState=function(e){var t=this;t.height=t.mes.contentHeight+5},n}(GYLite.ItemRender);__reflect(n.prototype,"ChatItem")}(main||(main={}));var main;!function(e){var t=function(e){function t(){var t=e.call(this)||this,n=t;n.head=SkinManager.createImage(n,20,20,"q","main/img/head.png"),n.head.scaleX=.5,n.head.scaleY=.5;var a=new GYLite.GYSprite;a.x=n.head.x,a.y=n.head.y,a.width=a.height=50;var i=a.graphics;i.beginFill(0,1),i.drawRoundRect(0,0,50,50,50),i.endFill(),n.head.mask=a,n.addElement(a);var r=SkinManager.createImage(n,80,50,"war_id_img_png",URLConf.gameImg+"w1sheet.png"),o=SkinManager.createScaleImage(n,r.x+r.width,r.y,"war_bet_setting_selected_count__bormal_bg_png",URLConf.gameImg+"w1sheet.png",new GYLite.Scale9GridRect(2,2,2,2));o.width=100,o.height=20;var s=SkinManager.createScaleImage(n,20,90,"war_bet_setting_selected_count__bormal_bg_png",URLConf.gameImg+"w1sheet.png",new GYLite.Scale9GridRect(2,2,2,2));s.width=100,s.height=30;var c=SkinManager.createImage(n,20,90,"war_gold_img_png",URLConf.gameImg+"w1sheet.png"),g=SkinManager.createScaleImage(n,140,90,"war_bet_setting_selected_count__bormal_bg_png",URLConf.gameImg+"w1sheet.png",new GYLite.Scale9GridRect(2,2,2,2));g.width=100,g.height=30;var m=SkinManager.createImage(n,140,90,"war_silver_img_png",URLConf.gameImg+"w1sheet.png");return n.userNickText=SkinManager.createText(n,r.x,20,"",16777215,22),n.userIdText=SkinManager.createText(n,o.x+2,o.y+3,"",16777215,14),n.userGText=SkinManager.createText(n,c.x+c.width+2,c.y+8,"",15715586,14),n.userYText=SkinManager.createText(n,m.x+m.width+2,m.y+8,"",16777215,14),t}return __extends(t,e),t.getInstance=function(){return t._instance||(t._instance=new t)},t.prototype.render=function(e){var t=this;e.data.avatar&&(t.head.source=Main.instance.getRes(e.data.avatar,"main/img/head.png")),e.data.nickName&&(t.userNickText.text=e.data.nickName),e.data.userId&&(t.userIdText.text=e.data.userId),e.data.gold&&(t.userGText.text=e.data.gold),e.data.silver&&(t.userYText.text=e.data.silver)},t}(GYLite.GYUIComponent);e.PersonalView=t,__reflect(t.prototype,"main.PersonalView")}(main||(main={}));var main;!function(e){var t=function(t){function n(){var n=t.call(this)||this,a=n;return a.back=SkinManager.createImage(a,0,0,"war_left_bg_png",URLConf.gameImg+"w2sheet.png"),a.personalView=e.PersonalView.getInstance(),a.addElement(a.personalView),a.chatView=e.ChatView.getInstance(),a.chatView.x=20,a.chatView.y=150,a.addElement(a.chatView),n}return __extends(n,t),n.getInstance=function(){return n._instance||(n._instance=new n)},n.prototype.renderPersonvalView=function(e){var t=this;t.personalView.render(e)},n.prototype.notifyChatView=function(e){var t=this;t.chatView.createWebsocket(e)},n}(GYLite.GYUIComponent);e.SideTopLeftView=t,__reflect(t.prototype,"main.SideTopLeftView")}(main||(main={}));var main;!function(e){var t=function(t){function n(){var e=t.call(this)||this,n=e;n.horizonalCenter=0,n.verticalCenter=0,n.back=SkinManager.createScaleImage(n,0,0,"rms_view_bg_png",URLConf.mainImg+"d1sheet.png",new GYLite.Scale9GridRect(60,60,60,60)),n.back.width=800,n.back.height=300,n.close=SkinManager.createBtn2(n,0,0,["rms_view_close_btn_png"],URLConf.mainImg+"d1sheet.png",null,null,ScaleButtonSkin2),n.close.eventname="close",n.close.top=-20,n.close.right=-20;var a=SkinManager.createImage(n,0,40,"rms_trumpet_title_bg_png",URLConf.mainImg+"d2sheet.png");a.horizonalCenter=0;var i=SkinManager.createImage(n,0,0,"rms_trumpet_title_big_png",URLConf.mainImg+"d2sheet.png");i.y=(a.height-i.height>>1)+a.y,i.horizonalCenter=0,n.trumpet_b=TemplateTool.createTextInput(n,30,a.y+a.height+30,600,40,"请输入大喇叭内容...",24,16777215,100),n.send_b=SkinManager.createBtn2(n,n.trumpet_b.x+n.trumpet_b.width+10,n.trumpet_b.y,["rms_btn_bg_1_png"],URLConf.mainImg+"d2sheet.png"),n.send_b.eventname="sendb",n.send_b.label="发送",n.send_b.labelDisplay.color=16777215,n.send_b.labelDisplay.size=24,n.trumpet_b.height=n.send_b.height;var r=SkinManager.createText(n,0,0,"");return r.htmlText="提示: 每条喇叭消耗<font color=0xEFCD02> 20 </font>金币, 消息在全频道滚动播放",r.horizonalCenter=0,r.bottom=40,n.bindEvent(),e}return __extends(n,t),n.getInstance=function(){return n._instance||(n._instance=new n)},n.prototype.bindEvent=function(){var t=this;t.handlers={close:function(){t.hide()},sendb:function(){t.trumpet_b.text&&(e.MainModel.getInstance().addNotice(t.trumpet_b.text),e.ChatView.getInstance().handleSend(t.trumpet_b.text),t.trumpet_b.text="")}},t.addEventListener(egret.TouchEvent.TOUCH_TAP,t.handle,t)},n.prototype.handle=function(e){var t=this;t.handlers[e.target.eventname]&&t.handlers[e.target.eventname]()},n.prototype.show=function(){var e=this;LayerManager.getInstance().setTopMask(!0);var t=LayerManager.getInstance().topLay;t.addElement(e)},n.prototype.hide=function(){var e=this;LayerManager.getInstance().setTopMask(!1),e.parent.removeElement(e)},n}(GYLite.GYUIComponent);e.TrumpetView=t,__reflect(t.prototype,"main.TrumpetView")}(main||(main={}));var main;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t}return __extends(t,e),t.getInstance=function(){return t._instance||(t._instance=new t)},t}(GYLite.GYUIComponent);e.BetDetailDialogView=t,__reflect(t.prototype,"main.BetDetailDialogView")}(main||(main={}));var main;!function(e){var t=function(t){function a(){var a=t.call(this)||this,i=a;i.tabBtn=new e.TabButton,i.tabBtn.x=62,i.tabBtn.y=92,i.addElement(i.tabBtn);var r=SkinManager.createImage(i,220,130,"war_top_gold_png",URLConf.gameImg+"w1sheet.png");SkinManager.createImage(i,r.x+r.width,r.y,"war_top_silver_png",URLConf.gameImg+"w1sheet.png");i.list=SkinManager.createListV(i,55,178,230,376,n),i.list.scrollerPolicy=2;for(var o=[],s=0;10>s;s++){var c={avatar:"a",betgold:3,exp:6e3,betsilver:0,nickName:"傲世战神",userId:81342587};o.push(c)}return i.bindEvent(),a}return __extends(a,t),a.getInstance=function(){return a._instance||(a._instance=new a)},a.prototype.bindEvent=function(){var e=this;e.tabBtn.bindClick(e.handleTabClick,e)},a.prototype.handleTabClick=function(t){var n=this;if(1==t)n.list.dataProvider=[],e.GameModel.getInstance().getBettingRank();else{n.list.dataProvider=[];var a=e.GameModel.getInstance().lastWinRank;if(0==a.length)return;n.list.dataProvider=a.map(function(e){return __assign({},e,{betgold:e.wingold,betsilver:e.winsilver})})}},a.prototype.updateRankList=function(e){var t=this;2!=t.tabBtn.type&&0!=e.length&&(t.list.dataProvider=e)},a}(GYLite.GYUIComponent);e.BetRankView=t,__reflect(t.prototype,"main.BetRankView");var n=function(t){function n(){var e=t.call(this)||this,n=e;return n.width=230,n.height=37.6,n.head=SkinManager.createImage(n,0,0,"",URLConf.gameImg+"w1sheet.png"),n.head.width=34,n.head.height=34,n.username=SkinManager.createText(n,n.head.x+n.head.width+2,16,""),n.username.size=12,n.money=SkinManager.createText(n,n.head.x+n.head.width+110,n.username.y,""),n.money.width=85,n.money.size=13,n.money.textAlign="center",e}return __extends(n,t),n.prototype.setData=function(t){var n=this;if(!t)return void(n.visible=!1);n.visible=!0,t.avatar&&(n.head.source=Main.instance.getRes(t.avatar,e.Conf.img+"head.png"));var a=e.UtilTool.getGrade(t.exp);n.username.htmlText="<font color="+e.NickNameColor.colorSets[a]+">"+t.nickName+"</font>",n.money.htmlText="<font color=0xEFCD02>"+n.formatBet(t.betgold)+"</font> "+n.formatBet(t.betsilver)},n.prototype.formatBet=function(e){var t="-";return e>=1e4?t=(e/1e4).toString()+"W":e>0&&1e4>e&&(t=e.toString()),t},n}(GYLite.ItemRender);e.BetRankItem=n,__reflect(n.prototype,"main.BetRankItem")}(main||(main={}));var main;!function(e){var t=function(e){function t(){var t=e.call(this)||this,n=t,a=SkinManager.createScaleImage(n,100,592,"war_bet_setting_selected_count__bormal_bg_png",URLConf.gameImg+"w1sheet.png",new GYLite.Scale9GridRect(2,2,2,2));a.width=100,a.height=30;var i=SkinManager.createImage(n,100,592,"war_gold_img_png",URLConf.gameImg+"w1sheet.png"),r=SkinManager.createScaleImage(n,100,a.y+a.height+5,"war_bet_setting_selected_count__bormal_bg_png",URLConf.gameImg+"w1sheet.png",new GYLite.Scale9GridRect(2,2,2,2));r.width=100,r.height=30;var o=SkinManager.createImage(n,100,a.y+a.height+5,"war_silver_img_png",URLConf.gameImg+"w1sheet.png");return n.userGText=SkinManager.createText(n,i.x+i.width+2,i.y+8,"0",15715586,14),n.userYText=SkinManager.createText(n,o.x+o.width+2,o.y+8,"0",16777215,14),t}return __extends(t,e),t.getInstance=function(){return t._instance||(t._instance=new t)},t.prototype.render=function(e){var t=this;t.userGText.text=e.g,t.userYText.text=e.y},t}(GYLite.GYUIComponent);e.CurrentRoundSumView=t,__reflect(t.prototype,"main.CurrentRoundSumView")}(main||(main={}));var main;!function(e){var t=function(t){function a(){var a=t.call(this)||this,i=a;i.horizonalCenter=0,i.verticalCenter=0,i.back=SkinManager.createScaleImage(i,0,0,"rms_view_bg_png",URLConf.mainImg+"d1sheet.png",new GYLite.Scale9GridRect(60,60,60,60)),i.back.width=1046,i.back.height=536,i.close=SkinManager.createBtn2(i,0,0,["rms_view_close_btn_png"],URLConf.mainImg+"d1sheet.png",null,null,ScaleButtonSkin2),i.close.eventname="close",i.close.top=-20,i.close.right=-20;var r=SkinManager.createImage(i,0,0,"rms_view_title_bg_png",URLConf.mainImg+"d1sheet.png");r.horizonalCenter=0,r.y=-r.height/2;var o=SkinManager.createImage(i,0,0,"rms_top_list_title_png",URLConf.mainImg+"d1sheet.png");o.horizonalCenter=0,o.y=r.y+(r.height-o.height>>1);var s=SkinManager.createScaleImage(i,240,0,"rms_view_line_png",URLConf.mainImg+"d1sheet.png",new GYLite.Scale9GridRect(0,0,52,52));s.height=i.back.height;for(var c=[{source:"rms_top_list_tab_today_gold_winner_png",sourceSel:"rms_top_list_tab_today_gold_winner_selected_png"},{source:"rms_top_list_tab_today_silver_winner_png",sourceSel:"rms_top_list_tab_today_silver_winner_selected_png"},{source:"rms_top_list_tab_yestoday_gold_medal_png",sourceSel:"rms_top_list_tab_yestodat_gold_medal_selected_png"},{source:"rms_top_list_tab_testoday_silver_winner_png",sourceSel:"rms_top_list_tab_yestoday_silver_winner_selected_png"},{source:"VIP2.png",sourceSel:"VIP1.png"}],g=new GYLite.GYRadioGroup,m=0;5>m;m++)if(4>m){var _=SkinManager.createBtn2(i,28,0,[c[m].source,null,null,null,c[m].sourceSel,c[m].sourceSel,c[m].sourceSel,c[m].sourceSel],URLConf.mainImg+"d1sheet.png",null,GYLite.GYRadioButton,e.MyRadioButtonSkin);_.y=m*(_.height+30)+100,_.radioGroup=g,_.eventname="btn_"+m,0==m&&(_.radioGroup.selectedButton=_);SkinManager.createImage(i,20,_.y+_.height,"rms_top_list_tab_line_png",URLConf.mainImg+"d1sheet.png")}else{var _=SkinManager.createBtn2(i,28,0,[c[m].source,null,null,null,c[m].sourceSel,c[m].sourceSel,c[m].sourceSel,c[m].sourceSel],null,null,GYLite.GYRadioButton,e.MyRadioButtonSkin);_.y=m*(_.height+30)+100,_.radioGroup=g,_.eventname="btn_"+m,0==m&&(_.radioGroup.selectedButton=_);SkinManager.createImage(i,20,_.y+_.height,"rms_top_list_tab_line_png",URLConf.mainImg+"d1sheet.png")}return i.list=SkinManager.createListV(i,290,50,716,330,n),i.bindEvent(),a}return __extends(a,t),a.getInstance=function(){return a._instance||(a._instance=new a)},a.prototype.bindEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.handleClick,e)},a.prototype.handleClick=function(e){var t=this;if(e.target.eventname)switch(e.target.eventname){case"btn_0":break;case"btn_1":break;case"btn_2":break;case"btn_3":break;case"btn_4":break;case"close":t.hide()}},a.prototype.show=function(){var e=this;LayerManager.getInstance().setTopMask(!0);var t=LayerManager.getInstance().topLay;t.addElement(e);for(var n=[],a=0;20>a;a++){var i={userId:81342587,nickName:"新用户1",avatar:"",type:"2",num:"1000"};3>a&&(i.rank=a+1),n.push(i)}e.list.dataProvider=n},a.prototype.hide=function(){var e=this;LayerManager.getInstance().setTopMask(!1),e.parent.removeElement(e)},a}(GYLite.GYUIComponent);e.RankDialogView=t,__reflect(t.prototype,"main.RankDialogView");var n=function(e){function t(){var t=e.call(this)||this,n=t;return n.width=716,n.height=66,n.rankImg=SkinManager.createImage(n,0,0,""),n.rankImg.visible=!1,n.rankText=SkinManager.createText(n,0,0,"4TH"),t}return __extends(t,e),t.prototype.setData=function(e){var t=this;if(!e)return void(t.visible=!1);if(t.visible=!0,e.rank){var n=1==e.rank?"1st":2==e.rank?"2nd":"3rd";t.rankImg.source=Main.instance.getRes("rms_top_list_"+n+"_png",URLConf.mainImg+"d1sheet.png"),t.rankImg.visible=!0}else t.rankImg.visible=!1},t}(GYLite.ItemRender);e.RankDialogItem=n,__reflect(n.prototype,"main.RankDialogItem")}(main||(main={}));var main;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t}return __extends(t,e),t.getInstance=function(){return t._instance||(t._instance=new t)},t}(GYLite.GYUIComponent);e.SettingDialogView=t,__reflect(t.prototype,"main.SettingDialogView")}(main||(main={}));var main;!function(e){var t=function(t){function n(){var n=t.call(this)||this,a=n;a.width=304,a.height=680,a.back=SkinManager.createImage(a,0,0,"war_right_bg_png",URLConf.gameImg+"w1sheet.png"),a._imgArr=[];var i=["war_top_list_btn_png","war_account_btn_png","war_setting_btn_png","war_close_btn_png"];a._state={};for(var r=0;r<i.length;r++){var o=SkinManager.createImage(a,70+54*r,20,i[r],"game/img/w1sheet.png");o.imgname=i[r],o.touchEnabled=!0,o.buttonModeForMouse=!0,a._imgArr.push(o)}return e.RankDialogView.getInstance().show(),a._state[i[0]]=function(){console.log("打开排行"),e.RankDialogView.getInstance().show()},a._state[i[1]]=function(){console.log("打开明细")},a._state[i[2]]=function(){console.log("设置")},a._state[i[3]]=function(){console.log("登出"),a.loginoutcb&&a.loginoutcb.call(a.loginoutthisobj)},a._betRankView=e.BetRankView.getInstance(),a._betRankView.width=a.width,a._betRankView.height=a.height,a.addElement(a._betRankView),a._currentRoundSumView=e.CurrentRoundSumView.getInstance(),a.addElement(a._currentRoundSumView),a.bindEvent(),n}return __extends(n,t),n.getInstance=function(){return n._instance||(n._instance=new n)},n.prototype.bindEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.handleClick,e)},n.prototype.handleClick=function(e){var t=this;e.target.imgname&&t._state[e.target.imgname]&&t._state[e.target.imgname]()},n.prototype.bindLoginOut=function(e,t){var n=this;n.loginoutcb=e,n.loginoutthisobj=t},n}(GYLite.GYUIComponent);e.SideTopRightView=t,__reflect(t.prototype,"main.SideTopRightView")}(main||(main={}));